{"remainingRequest":"/home/manoel/Documents/conta-comigo-app-front/node_modules/babel-loader/lib/index.js!/home/manoel/Documents/conta-comigo-app-front/node_modules/eslint-loader/index.js??ref--13-0!/home/manoel/Documents/conta-comigo-app-front/src/store/modules/user.store.js","dependencies":[{"path":"/home/manoel/Documents/conta-comigo-app-front/src/store/modules/user.store.js","mtime":1586030657296},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS5ub3ciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwoKLyogZXNsaW50LWRpc2FibGUgbm8tc2hhZG93ICovCmltcG9ydCByb3V0ZXMgZnJvbSAnLi4vLi4vcm91dGVyL2luZGV4JzsKaW1wb3J0IGFwaSBmcm9tICcuLi9hcGknOwp2YXIgc3RhdGUgPSB7CiAgdXNlcjogbnVsbCwKICB0b2tlbjogJycsCiAgbGlzdDogbnVsbCwKICBsb2dpbkVycm9yOiBudWxsLAogIGxvZ2luTG9hZGluZzogZmFsc2UKfTsKdmFyIGdldHRlcnMgPSB7CiAgZ2V0VXNlcjogZnVuY3Rpb24gZ2V0VXNlcihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgfSwKICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS50b2tlbjsKICB9LAogIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3Qoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5saXN0OwogIH0sCiAgZ2V0TG9naW5FcnJvcjogZnVuY3Rpb24gZ2V0TG9naW5FcnJvcihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmxvZ2luRXJyb3I7CiAgfSwKICBnZXRMb2dpbkxvYWRpbmc6IGZ1bmN0aW9uIGdldExvZ2luTG9hZGluZyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmxvZ2luTG9hZGluZzsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBkYXRhKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICBjb21taXQoJ1NFVF9MT0dJTl9MT0FESU5HJywgdHJ1ZSk7CiAgICByZXR1cm4gYXBpKCkucG9zdCgnYXBwL2xvZ2luLycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHN1Y2Nlc3MpIHsKICAgICAgdmFyIHVzZXJJbmZvID0gc3VjY2Vzcy5kYXRhOwogICAgICB2YXIgZXhwRGF0ZSA9IERhdGUubm93KCk7IC8vIHhwZCBzdGFuZHMgZm9yIGV4cGlyYXRpb24gRGF0ZQoKICAgICAgT2JqZWN0LmFzc2lnbih1c2VySW5mbywgewogICAgICAgIHhwZDogZXhwRGF0ZQogICAgICB9KTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJbmZvJywgSlNPTi5zdHJpbmdpZnkodXNlckluZm8pKTsKICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCBzdWNjZXNzKTsKICAgICAgY29tbWl0KCdTRVRfTE9HSU5fRVJST1InLCBudWxsKTsKICAgICAgY29tbWl0KCdTRVRfTE9HSU5fTE9BRElORycsIGZhbHNlKTsKICAgICAgY29tbWl0KCdTRVRfVVNFUicsIHN1Y2Nlc3MpOyAvLyAgcmVkaXJlY3QgdG8gcGFnZQoKICAgICAgcm91dGVzLnJlcGxhY2UoJy8nKTsgLy8gcmV0dXJuIGFwaSgpLmdldCgndXNlcnM/cGFnZT0xJykudGhlbigoc3VjY2VzcykgPT4gewogICAgICAvLyAgIGNvbW1pdCgnU0VUX0xJU1QnLCBzdWNjZXNzLmRhdGEuZGF0YSk7CiAgICAgIC8vIH0pOwogICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yLnJlc3BvbnNlKTsKICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsKSBjb21taXQoJ1NFVF9MT0dJTl9FUlJPUicsIGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsKTtlbHNlIGNvbW1pdCgnU0VUX0xPR0lOX0VSUk9SJywgZXJyb3IucmVzcG9uc2Uuc3RhdHVzVGV4dCk7CiAgICAgIGNvbW1pdCgnU0VUX0xPR0lOX0xPQURJTkcnLCBmYWxzZSk7CiAgICB9KTsKICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYyKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgY29tbWl0KCdTRVRfVVNFUicsIG51bGwpOwogICAgY29tbWl0KCdTRVRfVE9LRU4nLCBudWxsKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySW5mbycpOwogICAgcm91dGVzLnJlcGxhY2UoJy9sb2dpbicpOwogIH0sCiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKF9yZWYzLCBkYXRhKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgY29tbWl0KCdTRVRfTE9HSU5fTE9BRElORycsIHRydWUpOwogICAgcmV0dXJuIGFwaSgpLnBvc3QoJ3JlZ2lzdGVyLycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHN1Y2Nlc3MpIHsKICAgICAgY29uc29sZS5sb2coc3VjY2Vzcyk7CiAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgc3VjY2Vzcyk7CiAgICAgIGNvbW1pdCgnU0VUX0xPR0lOX0VSUk9SJywgbnVsbCk7CiAgICAgIGNvbW1pdCgnU0VUX0xPR0lOX0xPQURJTkcnLCBmYWxzZSk7CiAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29tbWl0KCdTRVRfTE9HSU5fRVJST1InLCBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgY29tbWl0KCdTRVRfTE9HSU5fTE9BRElORycsIGZhbHNlKTsKICAgIH0pOwogIH0sCiAgZ2V0Q3VycmVudFVzZXI6IGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyKF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgY29tbWl0KCdTRVRfTE9HSU5fTE9BRElORycsIGZhbHNlKTsKICAgIHZhciBpc1ZhbGlkYXRlZCA9IGZhbHNlOwogICAgdmFyIHVzZXJJbmZvID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJbmZvJyk7CgogICAgaWYgKHVzZXJJbmZvICYmIERhdGUubm93KCkgLSBKU09OLnBhcnNlKHVzZXJJbmZvKS54cGQgPD0gOTAwMDAwKSB7CiAgICAgIGNvbnNvbGUubG9nKCd1c2VyIHZhbGlkYXRlZCcpOwogICAgICBpc1ZhbGlkYXRlZCA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICBhcGkoKS5nZXQoJ2FwcC91c2VyL2N1cnJlbnQvJykudGhlbihmdW5jdGlvbiAoc3VjY2VzcykgewogICAgICAgIHZhciB1c2VySW5mbyA9IHN1Y2Nlc3MuZGF0YTsKICAgICAgICB2YXIgZXhwRGF0ZSA9IERhdGUubm93KCk7IC8vIHhwZCBzdGFuZHMgZm9yIGV4cGlyYXRpb24gRGF0ZQoKICAgICAgICBPYmplY3QuYXNzaWduKHVzZXJJbmZvLCB7CiAgICAgICAgICB4cGQ6IGV4cERhdGUKICAgICAgICB9KTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlckluZm8nLCBKU09OLnN0cmluZ2lmeSh1c2VySW5mbykpOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ1NFVF9MT0dJTl9FUlJPUicsIGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogICAgICAgIHJvdXRlcy5yZXBsYWNlKCcvbG9naW4nKTsKICAgICAgfSk7CiAgICAgIGlzVmFsaWRhdGVkID0gdHJ1ZTsKICAgIH0KCiAgICByZXR1cm4gaXNWYWxpZGF0ZWQ7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9VU0VSOiBmdW5jdGlvbiBTRVRfVVNFUihzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLnVzZXIgPSB2YWx1ZTsgLy8gY29uc29sZS5sb2coJ211dGF0aW9ucyBTRVRfVVNFUicsIHN0YXRlLmRhdGEpOwogIH0sCiAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHZhbHVlKSB7CiAgICBzdGF0ZS50b2tlbiA9IHZhbHVlOwogIH0sCiAgU0VUX0xJU1Q6IGZ1bmN0aW9uIFNFVF9MSVNUKHN0YXRlLCB2YWx1ZSkgewogICAgc3RhdGUubGlzdCA9IHZhbHVlOwogIH0sCiAgU0VUX0xPR0lOX0VSUk9SOiBmdW5jdGlvbiBTRVRfTE9HSU5fRVJST1Ioc3RhdGUsIHZhbHVlKSB7CiAgICBzdGF0ZS5sb2dpbkVycm9yID0gdmFsdWU7CiAgfSwKICBTRVRfTE9HSU5fTE9BRElORzogZnVuY3Rpb24gU0VUX0xPR0lOX0xPQURJTkcoc3RhdGUsIHZhbHVlKSB7CiAgICBzdGF0ZS5sb2dpbkxvYWRpbmcgPSB2YWx1ZTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/home/manoel/Documents/conta-comigo-app-front/src/store/modules/user.store.js"],"names":["routes","api","state","user","token","list","loginError","loginLoading","getters","getUser","getToken","getList","getLoginError","getLoginLoading","actions","login","data","commit","post","then","success","userInfo","expDate","Date","now","Object","assign","xpd","localStorage","setItem","JSON","stringify","replace","error","console","log","response","detail","statusText","logout","removeItem","register","getCurrentUser","isValidated","getItem","parse","get","mutations","SET_USER","value","SET_TOKEN","SET_LIST","SET_LOGIN_ERROR","SET_LOGIN_LOADING","namespaced"],"mappings":"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","sourcesContent":["/* eslint-disable no-shadow */\nimport routes from '../../router/index';\nimport api from '../api';\n\n\nconst state = {\n  user: null,\n  token: '',\n  list: null,\n  loginError: null,\n  loginLoading: false,\n};\n\nconst getters = {\n  getUser(state) { return state.user; },\n  getToken(state) { return state.token; },\n  getList(state) { return state.list; },\n  getLoginError(state) { return state.loginError; },\n  getLoginLoading(state) { return state.loginLoading; },\n};\n\nconst actions = {\n  login({ commit }, data) {\n    commit('SET_LOGIN_LOADING', true);\n    return api().post('app/login/', data).then((success) => {\n      const userInfo = success.data;\n      const expDate = Date.now();\n      // xpd stands for expiration Date\n      Object.assign(userInfo, { xpd: expDate });\n      localStorage.setItem('userInfo', JSON.stringify(userInfo));\n      commit('SET_TOKEN', success);\n      commit('SET_LOGIN_ERROR', null);\n      commit('SET_LOGIN_LOADING', false);\n      commit('SET_USER', success);\n      //  redirect to page\n      routes.replace('/');\n      // return api().get('users?page=1').then((success) => {\n      //   commit('SET_LIST', success.data.data);\n      // });\n    }).catch((error) => {\n      console.log('error', error.response);\n      if (error.response.data.detail) commit('SET_LOGIN_ERROR', error.response.data.detail);\n      else commit('SET_LOGIN_ERROR', error.response.statusText);\n      commit('SET_LOGIN_LOADING', false);\n    });\n  },\n\n  logout({ commit }) {\n    commit('SET_USER', null);\n    commit('SET_TOKEN', null);\n    localStorage.removeItem('userInfo');\n    routes.replace('/login');\n  },\n\n  register({ commit }, data) {\n    commit('SET_LOGIN_LOADING', true);\n    return api().post('register/', data).then((success) => {\n      console.log(success);\n      commit('SET_TOKEN', success);\n      commit('SET_LOGIN_ERROR', null);\n      commit('SET_LOGIN_LOADING', false);\n    }).catch((error) => {\n      commit('SET_LOGIN_ERROR', error.response.data.error);\n      commit('SET_LOGIN_LOADING', false);\n    });\n  },\n  getCurrentUser({ commit }) {\n    commit('SET_LOGIN_LOADING', false);\n    let isValidated = false;\n    const userInfo = localStorage.getItem('userInfo');\n    if (userInfo && (Date.now() - JSON.parse(userInfo).xpd) <= 900000) {\n      console.log('user validated');\n      isValidated = true;\n    } else {\n      api().get('app/user/current/').then((success) => {\n        const userInfo = success.data;\n        const expDate = Date.now();\n        // xpd stands for expiration Date\n        Object.assign(userInfo, { xpd: expDate });\n        localStorage.setItem('userInfo', JSON.stringify(userInfo));\n      }).catch((error) => {\n        commit('SET_LOGIN_ERROR', error.response.data.error);\n        routes.replace('/login');\n      });\n      isValidated = true;\n    }\n    return isValidated;\n  },\n};\n\nconst mutations = {\n  SET_USER(state, value) {\n    state.user = value;\n    // console.log('mutations SET_USER', state.data);\n  },\n  SET_TOKEN(state, value) {\n    state.token = value;\n  },\n  SET_LIST(state, value) {\n    state.list = value;\n  },\n  SET_LOGIN_ERROR(state, value) {\n    state.loginError = value;\n  },\n  SET_LOGIN_LOADING(state, value) {\n    state.loginLoading = value;\n  },\n};\n\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations,\n};\n"]}]}